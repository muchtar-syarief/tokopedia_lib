import{r as s,L as _,h as H,d as M,p as oe,E as ae,z as j,q as A,aa as se,ab as re,ac as ie,g as ce,m as le,K as z,a as ue,C as Q,ad as fe,a6 as de,ae as me,af as ge,ag as W}from"./nox_ttrgtpApt.js";import{C as ve,b as pe,E as ye}from"./nox_pAQXgAehe.js";import{I as Ce}from"./nox_tgykoyXXt.js";var xe=s.forwardRef(function(e,n){var a=e.prefixCls,t=e.style,o=e.className,i=e.duration,f=i===void 0?4.5:i,x=e.eventKey,l=e.content,u=e.closable,g=e.closeIcon,m=g===void 0?"x":g,d=e.props,p=e.onClick,C=e.onNoticeClose,b=e.times,N=s.useState(!1),$=_(N,2),h=$[0],S=$[1],O=function(){C(x)},E=function(y){(y.key==="Enter"||y.code==="Enter"||y.keyCode===ae.ENTER)&&O()};s.useEffect(function(){if(!h&&f>0){var r=setTimeout(function(){O()},f*1e3);return function(){clearTimeout(r)}}},[f,h,b]);var c="".concat(a,"-notice");return s.createElement("div",H({},d,{ref:n,className:M(c,o,oe({},"".concat(c,"-closable"),u)),style:t,onMouseEnter:function(){S(!0)},onMouseLeave:function(){S(!1)},onClick:p}),s.createElement("div",{className:"".concat(c,"-content")},l),u&&s.createElement("a",{tabIndex:0,className:"".concat(c,"-close"),onKeyDown:E,onClick:function(y){y.preventDefault(),y.stopPropagation(),O()}},m))});const X=xe;var be=s.forwardRef(function(e,n){var a=e.prefixCls,t=a===void 0?"rc-notification":a,o=e.container,i=e.motion,f=e.maxCount,x=e.className,l=e.style,u=e.onAllRemoved,g=s.useState([]),m=_(g,2),d=m[0],p=m[1],C=function(r){var y,v=d.find(function(P){return P.key===r});v==null||(y=v.onClose)===null||y===void 0||y.call(v),p(function(P){return P.filter(function(w){return w.key!==r})})};s.useImperativeHandle(n,function(){return{open:function(r){p(function(y){var v=j(y),P=v.findIndex(function(L){return L.key===r.key}),w=A({},r);if(P>=0){var I;w.times=(((I=y[P])===null||I===void 0?void 0:I.times)||0)+1,v[P]=w}else w.times=0,v.push(w);return f>0&&v.length>f&&(v=v.slice(-f)),v})},close:function(r){C(r)},destroy:function(){p([])}}});var b=s.useState({}),N=_(b,2),$=N[0],h=N[1];s.useEffect(function(){var c={};d.forEach(function(r){var y=r.placement,v=y===void 0?"topRight":y;v&&(c[v]=c[v]||[],c[v].push(r))}),Object.keys($).forEach(function(r){c[r]=c[r]||[]}),h(c)},[d]);var S=function(r){h(function(y){var v=A({},y),P=v[r]||[];return P.length||delete v[r],v})},O=s.useRef(!1);if(s.useEffect(function(){Object.keys($).length>0?O.current=!0:O.current&&(u==null||u(),O.current=!1)},[$]),!o)return null;var E=Object.keys($);return se.createPortal(s.createElement(s.Fragment,null,E.map(function(c){var r=$[c],y=r.map(function(P){return{config:P,key:P.key}}),v=typeof i=="function"?i(c):i;return s.createElement(re,H({key:c,className:M(t,"".concat(t,"-").concat(c),x==null?void 0:x(c)),style:l==null?void 0:l(c),keys:y,motionAppear:!0},v,{onAllRemoved:function(){S(c)}}),function(P,w){var I=P.config,L=P.className,Z=P.style,G=I.key,ee=I.times,ne=I.className,te=I.style;return s.createElement(X,H({},I,{ref:w,prefixCls:t,className:M(L,ne),style:A(A({},Z),te),times:ee,key:G,eventKey:G,onNoticeClose:C}))})})),o)}),he=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],Ee=function(){return document.body},B=0;function $e(){for(var e={},n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];return a.forEach(function(o){o&&Object.keys(o).forEach(function(i){var f=o[i];f!==void 0&&(e[i]=f)})}),e}function Oe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getContainer,a=n===void 0?Ee:n,t=e.motion,o=e.prefixCls,i=e.maxCount,f=e.className,x=e.style,l=e.onAllRemoved,u=ie(e,he),g=s.useState(),m=_(g,2),d=m[0],p=m[1],C=s.useRef(),b=s.createElement(be,{container:d,ref:C,prefixCls:o,motion:t,maxCount:i,className:f,style:x,onAllRemoved:l}),N=s.useState([]),$=_(N,2),h=$[0],S=$[1],O=s.useMemo(function(){return{open:function(c){var r=$e(u,c);(r.key===null||r.key===void 0)&&(r.key="rc-notification-".concat(B),B+=1),S(function(y){return[].concat(j(y),[{type:"open",config:r}])})},close:function(c){S(function(r){return[].concat(j(r),[{type:"close",key:c}])})},destroy:function(){S(function(c){return[].concat(j(c),[{type:"destroy"}])})}}},[]);return s.useEffect(function(){p(a())}),s.useEffect(function(){C.current&&h.length&&(h.forEach(function(E){switch(E.type){case"open":C.current.open(E.config);break;case"close":C.current.close(E.key);break;case"destroy":C.current.destroy();break}}),S([]))},[h]),[O,b]}const Pe=e=>{const{componentCls:n,iconCls:a,boxShadow:t,colorText:o,colorSuccess:i,colorError:f,colorWarning:x,colorInfo:l,fontSizeLG:u,motionEaseInOutCirc:g,motionDurationSlow:m,marginXS:d,paddingXS:p,borderRadiusLG:C,zIndexPopup:b,contentPadding:N,contentBg:$}=e,h=`${n}-notice`,S=new z("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:p,transform:"translateY(0)",opacity:1}}),O=new z("MessageMoveOut",{"0%":{maxHeight:e.height,padding:p,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),E={padding:p,textAlign:"center",[`${n}-custom-content > ${a}`]:{verticalAlign:"text-bottom",marginInlineEnd:d,fontSize:u},[`${h}-content`]:{display:"inline-block",padding:N,background:$,borderRadius:C,boxShadow:t,pointerEvents:"all"},[`${n}-success > ${a}`]:{color:i},[`${n}-error > ${a}`]:{color:f},[`${n}-warning > ${a}`]:{color:x},[`${n}-info > ${a},
      ${n}-loading > ${a}`]:{color:l}};return[{[n]:Object.assign(Object.assign({},ue(e)),{color:o,position:"fixed",top:d,width:"100%",pointerEvents:"none",zIndex:b,[`${n}-move-up`]:{animationFillMode:"forwards"},[`
        ${n}-move-up-appear,
        ${n}-move-up-enter
      `]:{animationName:S,animationDuration:m,animationPlayState:"paused",animationTimingFunction:g},[`
        ${n}-move-up-appear${n}-move-up-appear-active,
        ${n}-move-up-enter${n}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${n}-move-up-leave`]:{animationName:O,animationDuration:m,animationPlayState:"paused",animationTimingFunction:g},[`${n}-move-up-leave${n}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[n]:{[h]:Object.assign({},E)}},{[`${n}-notice-pure-panel`]:Object.assign(Object.assign({},E),{padding:0,textAlign:"start"})}]},Y=ce("Message",e=>{const n=le(e,{height:150});return[Pe(n)]},e=>({zIndexPopup:e.zIndexPopupBase+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}));function Ne(e,n){return{motionName:n??`${e}-move-up`}}function K(e){let n;const a=new Promise(o=>{n=e(()=>{o(!0)})}),t=()=>{n==null||n()};return t.then=(o,i)=>a.then(o,i),t.promise=a,t}var Se=globalThis&&globalThis.__rest||function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};const Re={info:s.createElement(Ce,null),success:s.createElement(ve,null),error:s.createElement(pe,null),warning:s.createElement(ye,null),loading:s.createElement(fe,null)};function q(e){let{prefixCls:n,type:a,icon:t,children:o}=e;return s.createElement("div",{className:M(`${n}-custom-content`,`${n}-${a}`)},t||Re[a],s.createElement("span",null,o))}function Ie(e){const{prefixCls:n,className:a,type:t,icon:o,content:i}=e,f=Se(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:x}=s.useContext(Q),l=n||x("message"),[,u]=Y(l);return s.createElement(X,Object.assign({},f,{prefixCls:l,className:M(a,u,`${l}-notice-pure-panel`),eventKey:"pure",duration:null,content:s.createElement(q,{prefixCls:l,type:t,icon:o},i)}))}var we=globalThis&&globalThis.__rest||function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};const ke=8,Me=3,je=s.forwardRef((e,n)=>{const{top:a,prefixCls:t,getContainer:o,maxCount:i,duration:f=Me,rtl:x,transitionName:l,onAllRemoved:u}=e,{getPrefixCls:g,getPopupContainer:m}=s.useContext(Q),d=t||g("message"),[,p]=Y(d),C=()=>({left:"50%",transform:"translateX(-50%)",top:a??ke}),b=()=>M(p,x?`${d}-rtl`:""),N=()=>Ne(d,l),$=s.createElement("span",{className:`${d}-close-x`},s.createElement(de,{className:`${d}-close-icon`})),[h,S]=Oe({prefixCls:d,style:C,className:b,motion:N,closable:!1,closeIcon:$,duration:f,getContainer:()=>(o==null?void 0:o())||(m==null?void 0:m())||document.body,maxCount:i,onAllRemoved:u});return s.useImperativeHandle(n,()=>Object.assign(Object.assign({},h),{prefixCls:d,hashId:p})),S});let U=0;function J(e){const n=s.useRef(null);return[s.useMemo(()=>{const t=l=>{var u;(u=n.current)===null||u===void 0||u.close(l)},o=l=>{if(!n.current){const E=()=>{};return E.then=()=>{},E}const{open:u,prefixCls:g,hashId:m}=n.current,d=`${g}-notice`,{content:p,icon:C,type:b,key:N,className:$,onClose:h}=l,S=we(l,["content","icon","type","key","className","onClose"]);let O=N;return O==null&&(U+=1,O=`antd-message-${U}`),K(E=>(u(Object.assign(Object.assign({},S),{key:O,content:s.createElement(q,{prefixCls:g,type:b,icon:C},p),placement:"top",className:M(b&&`${d}-${b}`,m,$),onClose:()=>{h==null||h(),E()}})),()=>{t(O)}))},f={open:o,destroy:l=>{var u;l!==void 0?t(l):(u=n.current)===null||u===void 0||u.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const u=(g,m,d)=>{let p;g&&typeof g=="object"&&"content"in g?p=g:p={content:g};let C,b;typeof m=="function"?b=m:(C=m,b=d);const N=Object.assign(Object.assign({onClose:b,duration:C},p),{type:l});return o(N)};f[l]=u}),f},[]),s.createElement(je,Object.assign({key:"message-holder"},e,{ref:n}))]}function _e(e){return J(e)}let R=null,k=e=>e(),F=[],T={};function Fe(){const{prefixCls:e,getContainer:n,duration:a,rtl:t,maxCount:o,top:i}=T,f=e??W().getPrefixCls("message"),x=(n==null?void 0:n())||document.body;return{prefixCls:f,container:x,duration:a,rtl:t,maxCount:o,top:i}}const Ae=s.forwardRef((e,n)=>{const a=()=>{const{prefixCls:m,container:d,maxCount:p,duration:C,rtl:b,top:N}=Fe();return{prefixCls:m,getContainer:()=>d,maxCount:p,duration:C,rtl:b,top:N}},[t,o]=s.useState(a),[i,f]=J(t),x=W(),l=x.getRootPrefixCls(),u=x.getIconPrefixCls(),g=()=>{o(a)};return s.useEffect(g,[]),s.useImperativeHandle(n,()=>{const m=Object.assign({},i);return Object.keys(m).forEach(d=>{m[d]=function(){return g(),i[d].apply(i,arguments)}}),{instance:m,sync:g}}),s.createElement(ge,{prefixCls:l,iconPrefixCls:u},f)});function D(){if(!R){const e=document.createDocumentFragment(),n={fragment:e};R=n,k(()=>{me(s.createElement(Ae,{ref:a=>{const{instance:t,sync:o}=a||{};Promise.resolve().then(()=>{!n.instance&&t&&(n.instance=t,n.sync=o,D())})}}),e)});return}R.instance&&(F.forEach(e=>{const{type:n,skipped:a}=e;if(!a)switch(n){case"open":{k(()=>{const t=R.instance.open(Object.assign(Object.assign({},T),e.config));t==null||t.then(e.resolve),e.setCloseFn(t)});break}case"destroy":k(()=>{R==null||R.instance.destroy(e.key)});break;default:k(()=>{var t;const o=(t=R.instance)[n].apply(t,j(e.args));o==null||o.then(e.resolve),e.setCloseFn(o)})}}),F=[])}function Te(e){T=Object.assign(Object.assign({},T),e),k(()=>{var n;(n=R==null?void 0:R.sync)===null||n===void 0||n.call(R)})}function De(e){const n=K(a=>{let t;const o={type:"open",config:e,resolve:a,setCloseFn:i=>{t=i}};return F.push(o),()=>{t?k(()=>{t()}):o.skipped=!0}});return D(),n}function Le(e,n){const a=K(t=>{let o;const i={type:e,args:n,resolve:t,setCloseFn:f=>{o=f}};return F.push(i),()=>{o?k(()=>{o()}):i.skipped=!0}});return D(),a}function He(e){F.push({type:"destroy",key:e}),D()}const Ke=["success","info","warning","error","loading"],Ge={open:De,destroy:He,config:Te,useMessage:_e,_InternalPanelDoNotUseOrYouWillBeFired:Ie},V=Ge;Ke.forEach(e=>{V[e]=function(){for(var n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];return Le(e,a)}});const Qe=V;export{Qe as m};
