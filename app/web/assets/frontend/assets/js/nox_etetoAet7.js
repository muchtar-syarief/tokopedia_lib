import{r as l,A as j,h as g,R as v,j as e,f as z,F as R,v as w,B as A,_ as y}from"./nox_ophygXhXg.js";import{a as k}from"./nox_Xrtokpkyt.js";import{A as C}from"./nox_thAorXtp7.js";import{I as S}from"./nox_tggte7o7p.js";import{m as h}from"./nox_kkeQohppr.js";import"./nox_eA7p7A7ey.js";import"./nox_7ggkgtpgp.js";import"./nox_epXkoroQ7.js";import"./nox_krekpQe7r.js";import"./nox_pgepQgQe7.js";import"./nox_kgkgAgQr7.js";import"./nox_pk7goeQyA.js";var _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"robot",theme:"outlined"};const B=_;var E=function(r,c){return l.createElement(j,g({},r,{ref:c,icon:B}))};const I=l.forwardRef(E),O=v.lazy(()=>y(()=>import("./nox_ptpktgr7e.js"),["./nox_ptpktgr7e.js","./nox_ophygXhXg.js","..\\css\\nox_p7hhXkp77.css","./nox_pAQoXQ7AQ.js","./nox_Xrtokpkyt.js","./nox_eA7p7A7ey.js","./nox_tre7yXyrQ.js","./nox_krekpQe7r.js","./nox_hQytgkkAA.js","./nox_tggte7o7p.js","./nox_kgkgAgQr7.js","./nox_pk7goeQyA.js","./nox_yppAogorA.js","./nox_pgepQgQe7.js"],import.meta.url)),b=(a,r)=>{var d,i,m,p,o;const c=a.split(`
`),u=c.map(t=>{const[n,f,x]=t.split("|");return!n||!f||!x?null:{password:f.trim(),secret:x.trim(),username:n.trim().toLowerCase()}}),s=u.map((t,n)=>t==null?n+1:null).filter(t=>t!==null);if(s.length){h.error({content:e.jsxs("span",{children:["Invalid format on line:"," ",e.jsx("i",{children:e.jsx("strong",{children:s[0]})})]})});const t=c[s[0]-1],[n,f]=[a.lastIndexOf(t),a.lastIndexOf(t)+t.length];return(d=r.current)==null||d.focus(),(m=(i=r.current)==null?void 0:i.resizableTextArea)!=null&&m.textArea.selectionStart&&(r.current.resizableTextArea.textArea.selectionStart=n),(o=(p=r.current)==null?void 0:p.resizableTextArea)!=null&&o.textArea.selectionEnd&&(r.current.resizableTextArea.textArea.selectionEnd=f),null}return u};function K(){const[a,r]=l.useState(!1),{sender:c}=k("PostTokopediaAkunBulkAdd",{onError:o=>h.error(`Error: ${o.msg}`),onSuccess:()=>{h.success("Success!")}}),{sender:u}=k(),[s,d]=l.useState(""),i=v.createRef();function m(){const o=b(s,i);if(o){const t={data:o.filter(Boolean)};c({method:"post",path:"tokopedia/akun/bulk_add",payload:t})}}function p(o){const t=b(s,i);if(t){const n=t.filter(Boolean);u({method:"put",path:"tokopedia/cekbot/run",payload:{fname:o,Akuns:n}})}}return e.jsx(z,{size:"small",title:"Bulk Add Tokopedia Account",children:e.jsxs(R,{children:[e.jsx(l.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(O,{onFinish:o=>{r(!1),p(o)},open:a})}),e.jsx(C,{type:"info",message:"Format: username|password|otp_secret",showIcon:!0}),e.jsx(S.TextArea,{ref:i,size:"large",autoSize:{minRows:24,maxRows:24},value:s,onChange:o=>d(o.target.value)}),e.jsxs(w,{children:[e.jsx(A,{style:{boxShadow:"none"},type:"primary",onClick:m,children:"Add Account"}),e.jsx(A,{style:{backgroundColor:"#005246",boxShadow:"none",color:"#fff"},type:"primary",icon:e.jsx(I,{rev:"check-bot"}),onClick:()=>r(!0),children:"Check Bot"})]})]})})}export{K as default};
