import{r as u,b as a,j as s,E as p,k as C,J as g,F as _,C as k}from"./nox_yApeAXQky.js";import{u as S}from"./nox_eeptQph7h.js";import{B as b}from"./nox_AXegQAyp7.js";import{S as h}from"./nox_geyAQpp7p.js";import{D as w}from"./nox_7r7rghpoe.js";import{I as x}from"./nox_ghhrtoQko.js";import{m as l}from"./nox_Aeprprtpe.js";import"./nox_yeQo7eteh.js";import"./nox_etekoAAtA.js";import"./nox_ppyrX7keA.js";import"./nox_hhh7hektt.js";import"./nox_hQorA7Qee.js";import"./nox_Xyo77tytQ.js";import"./nox_eXtp7kApQ.js";function $(t){var c;const[o,n]=u.useState(),[f,d]=u.useState(t.item.EtalaseName||void 0),{sender:r}=S();function y(e){o||r({method:"put",path:"tokopedia/etalase_map/update",payload:[{category_id:t.item.tokopedia_id,etalase_name:e,ID:0}]},{onSuccess(){d(e),l.success(`Updated as ${e}`)}})}function m(){o&&t.item.tokopedia_id&&r({method:"put",path:"tokopedia/etalase_map/update",payload:[{category_id:t.item.tokopedia_id,etalase_name:o,ID:0}]},{onError(e){l.error(JSON.stringify(e))},onSuccess(){var e;l.success(`Updated as ${o}`),(e=t.refetchFn)==null||e.call(t,{method:"get",path:"tokopedia/etalase_map/list_etalase"},{onSuccess(){d(o)}})}})}return a(k,{size:"small",type:"inner",style:t.style,children:s(_,{style:{justifyContent:"space-between",height:"100%"},children:[s(p,{style:{justifyContent:"space-between",flex:1},children:[a(b,{items:t.item.ShopeeCategoryName.map(e=>({title:e})),separator:">"}),a("div",{style:{width:"20px"}}),s("span",{style:{flexShrink:0},children:[a("strong",{children:t.item.product_count||0})," Product"]})]}),a(h,{placeholder:t.item.tokopedia_id?"Choose etalase":"Check category mapping",disabled:!t.item.tokopedia_id,dropdownRender:e=>s(C,{children:[e,a(w,{style:{marginBlock:4}}),s(p,{style:{columnGap:5},children:[a(x,{value:o,onKeyDown:i=>{i.code=="Enter"&&m()},onChange:i=>n(i.target.value),placeholder:"Create new etalase..."}),a(g,{disabled:!o,onClick:m,type:"primary",children:"Add"})]})]}),value:f,onChange:e=>y(e),onClick:()=>n(void 0),children:(c=t.etalases)==null?void 0:c.sort((e,i)=>e.label.toLowerCase()<i.label.toLowerCase()?-1:0).map(e=>a(h.Option,{children:e.label},e.label))})]})})}export{$ as default};
