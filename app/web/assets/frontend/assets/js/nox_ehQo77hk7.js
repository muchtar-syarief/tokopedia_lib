import{r as u,b as a,j as s,y as p,k as C,B as g,F as _,C as k}from"./nox_AXrk7pAAg.js";import{u as S}from"./nox_keQXrrQk7.js";import{B as b}from"./nox_yoQeAgeoy.js";import{S as h}from"./nox_yy7XpyyXt.js";import{D as w}from"./nox_A7otpeApk.js";import{I as x}from"./nox_AryetQtX7.js";import{m as l}from"./nox_h7Ayrgh7o.js";import"./nox_XeXrkhXto.js";import"./nox_grrpgX7tQ.js";import"./nox_rrApg7otr.js";import"./nox_hohtr7hty.js";import"./nox_7eQtgQktA.js";import"./nox_ygteAoehA.js";import"./nox_totephpAo.js";import"./nox_gykoyX7Qo.js";function z(t){var c;const[i,n]=u.useState(),[f,r]=u.useState(t.item.EtalaseName||void 0),{sender:d}=S();function y(e){i||d({method:"put",path:"tokopedia/etalase_map/update",payload:[{category_id:t.item.tokpedia_id,etalase_name:e,ID:0}]},{onSuccess(){r(e),l.success(`Updated as ${e}`)}})}function m(){i&&t.item.tokpedia_id&&d({method:"put",path:"tokopedia/etalase_map/update",payload:[{category_id:t.item.tokpedia_id,etalase_name:i,ID:0}]},{onError(e){l.error(JSON.stringify(e))},onSuccess(){var e;l.success(`Updated as ${i}`),(e=t.refetchFn)==null||e.call(t,{method:"get",path:"tokopedia/etalase_map/list_etalase"},{onSuccess(){r(i)}})}})}return a(k,{size:"small",type:"inner",style:t.style,children:s(_,{style:{justifyContent:"space-between",height:"100%"},children:[s(p,{style:{justifyContent:"space-between",flex:1},children:[a(b,{items:t.item.ShopeeCategoryName.map(e=>({title:e})),separator:">"}),a("div",{style:{width:"20px"}}),s("span",{style:{flexShrink:0},children:[a("strong",{children:t.item.product_count||0})," Product"]})]}),a(h,{placeholder:t.item.tokpedia_id?"Choose etalase":"Check category mapping",disabled:!t.item.tokpedia_id,dropdownRender:e=>s(C,{children:[e,a(w,{style:{marginBlock:4}}),s(p,{style:{columnGap:5},children:[a(x,{value:i,onKeyDown:o=>{o.code=="Enter"&&m()},onChange:o=>n(o.target.value),placeholder:"Create new etalase..."}),a(g,{disabled:!i,onClick:m,type:"primary",children:"Add"})]})]}),value:f,onChange:e=>y(e),onClick:()=>n(void 0),children:(c=t.etalases)==null?void 0:c.sort((e,o)=>e.label.toLowerCase()<o.label.toLowerCase()?-1:0).map(e=>a(h.Option,{children:e.label},e.label))})]})})}export{z as default};
